{"ast":null,"code":"var _jsxFileName = \"/Users/darkvedor/Projects/React-Restaurant-App/client/src/pages/Gallery.js\";\nimport React, { Component } from 'react';\nimport CustomParallax from '../components/CustomParallax';\nimport home_top from \"../assets/home_top.jpg\";\nimport GridList from \"@material-ui/core/GridList\";\nimport img from '../assets/card_home_1.jpg';\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Container from \"react-bootstrap/Container\";\n\nclass Gallery extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imgs: [],\n      loading: true,\n      width: window.innerWidth\n    };\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"resize\", () => {\n      this.setState({\n        width: window.innerWidth\n      });\n    });\n    const res = await fetch('/api/gallery');\n    const images = (await res.json()).images;\n    await images.forEach(obj => {\n      obj.img = 'data:image/jpeg;base64,' + obj.img;\n      this.setState({\n        imgs: [...this.state.imgs, obj]\n      });\n    });\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    const col = this.state.width > 700 ? 3 : 2;\n    const gallery = this.state.loading ? React.createElement(Container, {\n      style: {\n        height: 400\n      },\n      className: \"text-center align-middle my-5 Gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"d-flex justify-content-around overflow-hidden Gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(GridList, {\n      className: \"m-lg-5 p-lg-3 m-sm-2 p-sm-2 m-2 p-2\",\n      cellHeight: Math.floor(this.state.width / col),\n      cols: col,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, this.state.imgs.map(img => React.createElement(GridListTile, {\n      key: img.key,\n      cols: img.cols || 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: img.img,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })))));\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(CustomParallax, {\n      title: \"Gallery\",\n      img: home_top,\n      height: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), gallery);\n  }\n\n}\n\nexport default Gallery;","map":{"version":3,"sources":["/Users/darkvedor/Projects/React-Restaurant-App/client/src/pages/Gallery.js"],"names":["React","Component","CustomParallax","home_top","GridList","img","GridListTile","Spinner","Container","Gallery","state","imgs","loading","width","window","innerWidth","componentDidMount","addEventListener","setState","res","fetch","images","json","forEach","obj","render","col","gallery","height","Math","floor","map","key","cols"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport CustomParallax from '../components/CustomParallax'\nimport home_top from \"../assets/home_top.jpg\";\nimport GridList from \"@material-ui/core/GridList\";\nimport img from '../assets/card_home_1.jpg'\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Container from \"react-bootstrap/Container\";\n\nclass Gallery extends Component {\n    state = {\n        imgs: [],\n        loading: true,\n        width: window.innerWidth\n    };\n\n    async componentDidMount() {\n        window.addEventListener(\"resize\", () => {\n            this.setState({width: window.innerWidth});\n        });\n\n        const res = await fetch('/api/gallery');\n        const images = (await res.json()).images;\n        await images.forEach((obj) => {\n            obj.img = 'data:image/jpeg;base64,' + obj.img;\n            this.setState({imgs: [...this.state.imgs, obj]})\n        });\n        this.setState({loading: false})\n    }\n\n    render() {\n        const col = this.state.width > 700 ? 3 : 2;\n        const gallery = this.state.loading ?\n            <Container style={{height: 400}} className='text-center align-middle my-5 Gallery'>\n                <Spinner animation=\"border\" role=\"status\"/>\n            </Container>\n            :\n            <div className='d-flex justify-content-around overflow-hidden Gallery'>\n                <GridList className='m-lg-5 p-lg-3 m-sm-2 p-sm-2 m-2 p-2' cellHeight={Math.floor(this.state.width / col)} cols={col}>\n                    {this.state.imgs.map(img => (\n                        <GridListTile key={img.key} cols={img.cols || 1}>\n                            <img src={img.img}/>\n                        </GridListTile>\n                    ))}\n                </GridList>\n            </div>;\n\n        return (\n            <React.Fragment>\n                <CustomParallax title='Gallery' img={home_top} height={300}/>\n                {gallery}\n            </React.Fragment>\n        );\n    }\n}\n\nexport default Gallery;"]},"metadata":{},"sourceType":"module"}